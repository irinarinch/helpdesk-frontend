(()=>{"use strict";var A={};A.p="";const t=async function(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{method:undefined,url:undefined,data:undefined,callback:undefined};const t=new XMLHttpRequest;t.responseType="json",t.onload=()=>{A.callback(t.response)},t.onerror=()=>{A.callback(t.error)},t.open(A.method,A.url),t.send(JSON.stringify(A.data))};class e{constructor(){this.host="https://helpdesk-backend-ieyc.onrender.com"}list(A){this.request=t({method:"GET",url:`${this.host}/?method=allTickets`,data:null,callback:A})}get(A,e){this.request=t({method:"GET",url:`${this.host}?method=ticketById&id=${A}`,data:null,callback:e})}create(A,e){this.request=t({method:"POST",url:`${this.host}/?method=createTicket`,data:A,callback:e})}update(A,e,i){this.request=t({method:"POST",url:`${this.host}/?method=updateById&id=${A}`,data:e,callback:i})}delete(A,e){this.request=t({method:"GET",url:`${this.host}/?method=deleteById&id=${A}`,data:null,callback:e})}}const i=A.p+"assets/59d68e1659c4a9f4c39f6b2bf67a7a62.png";class s{create(A){return this.getElements(),this.getClasses(),this.putElements(),this.useData(A),this.useImages(),this.ticketElement}getElements(){this.ticketElement=document.createElement("div"),this.checkbox=document.createElement("input"),this.checkbox.setAttribute("type","checkbox"),this.content=document.createElement("div"),this.nameEl=document.createElement("span"),this.creationTime=document.createElement("span"),this.label=document.createElement("label"),this.editBtn=document.createElement("div"),this.deleteBtn=document.createElement("div")}getClasses(){this.ticketElement.classList.add("ticket"),this.checkbox.classList.add("checkbox"),this.label.classList.add("checkbox-other"),this.content.classList.add("ticket-content"),this.creationTime.classList.add("created"),this.editBtn.classList.add("control","edit-btn"),this.deleteBtn.classList.add("control","delete-btn")}putElements(){this.ticketElement.appendChild(this.label),this.ticketElement.appendChild(this.creationTime),this.ticketElement.appendChild(this.editBtn),this.ticketElement.appendChild(this.deleteBtn),this.label.appendChild(this.checkbox),this.label.appendChild(this.content),this.content.appendChild(this.nameEl)}useData(A){this.nameEl.textContent=A.name;const t=new Date(A.created);this.creationTime.textContent=t.toLocaleString()}useImages(){const A=document.createElement("img");A.src="data:image/png;base64,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",this.editBtn.appendChild(A);const t=document.createElement("img");t.src=`${i}`,this.deleteBtn.appendChild(t)}render(A){const t=this.create(A);document.querySelector(".root").append(t),t.dataset.id=A.id,!0===A.status?this.checkbox.checked=!0:this.checkbox.checked=!1}renderDescripton(A,t){this.description=document.createElement("div"),this.description.textContent=t,this.description.classList.add("description");const e=A.querySelector(".description");A.contains(e)||""===t?A.contains(e)&&e.remove():A.append(this.description)}}class c{constructor(A){this.form=A,this.title=this.form.querySelector(".form-title"),this.nameInput=this.form.querySelector(".form-name-input"),this.description=this.form.querySelector(".form-description-input"),this.modal=document.querySelector(".modal"),this.modalToRemove=document.querySelector(".modal-to-remove")}create(){this.title.textContent="Добавить тикет",this.modal.classList.remove("hidden")}edit(A){this.title.textContent="Изменить тикет",this.nameInput.value=A.name,this.description.value=A.description,this.id=A.id,this.modal.classList.remove("hidden")}delete(A){this.id=A.id,this.modalToRemove.classList.remove("hidden")}close(){this.modal.classList.contains("hidden")?this.modalToRemove.classList.add("hidden"):(this.modal.classList.add("hidden"),document.querySelector(".form").reset())}}const n=document.getElementById("root"),o=new class{constructor(A){this.container=A,this.form=document.querySelector(".form"),this.createBtn=document.querySelector(".add-ticket-btn"),this.ticketService=new e,this.TicketView=new s,this.ticketForm=new c(this.form),this.bind()}bind(){this.save=this.save.bind(this),this.cancel=this.cancel.bind(this),this.postForm=this.postForm.bind(this),this.markTicket=this.markTicket.bind(this),this.showDescription=this.showDescription.bind(this),this.openFormToEdit=this.openFormToEdit.bind(this),this.openModalToDelete=this.openModalToDelete.bind(this),this.deleteTicket=this.deleteTicket.bind(this)}init(){this.initPage(),this.createBtn.addEventListener("click",(()=>this.ticketForm.create())),this.form.addEventListener("submit",this.postForm),document.addEventListener("click",(A=>{this.cancel(A),this.markTicket(A),this.showDescription(A),this.openFormToEdit(A),this.openModalToDelete(A),this.deleteTicket(A)}))}initPage(){this.ticketService.list((A=>{A.forEach((A=>{this.TicketView.render(A)}))}))}save(){document.querySelectorAll(".ticket").forEach((A=>{A.remove()})),this.initPage(),this.ticketForm.close()}cancel(A){A.target.closest(".cancel-btn")&&this.ticketForm.close()}markTicket(A){A.target.closest(".checkbox-other")&&!A.target.closest(".checkbox")&&A.preventDefault(),A.target.closest(".checkbox")&&(this.getTicket(A),this.ticketService.get(this.currentId,(t=>{if(A.target.closest(".checkbox").checked){t.status=!0}else{t.status=!1}this.ticketService.update(this.currentId,t,this.save)})))}showDescription(A){if(A.target.closest(".control")||A.target.closest(".checkbox")||!A.target.closest(".ticket"))return;const t=this.getTicket(A);this.ticketService.get(this.currentId,(A=>{this.TicketView.renderDescripton(t,A.description)}))}openFormToEdit(A){A.target.closest(".edit-btn")&&(this.getTicket(A),this.ticketService.get(this.currentId,(A=>{this.ticketForm.edit(A)})))}postForm(A){A.preventDefault();const t={name:this.ticketForm.nameInput.value,description:this.ticketForm.description.value,status:!1};""!==t.name&&("Добавить тикет"===this.ticketForm.title.textContent?this.ticketService.create(t,this.save):this.ticketService.update(this.ticketForm.id,t,this.save))}openModalToDelete(A){A.target.closest(".delete-btn")&&(this.getTicket(A),this.ticketService.get(this.currentId,(A=>{this.ticketForm.delete(A)})))}deleteTicket(A){if(!A.target.closest(".delete-ticket-btn"))return;const{id:t}=this.ticketForm;this.ticketService.delete(t,this.save)}getTicket(A){const t=A.target.closest(".ticket");return this.currentId=t.dataset.id,t}}(n);o.init()})();